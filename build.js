!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";function i(t,e){var n=new XMLHttpRequest;return new Promise(function(i,o){n.onreadystatechange=function(t){4==n.readyState&&200==n.status&&i(JSON.parse(n.responseText))},n.open("GET",t+"?"+r(e),!0),n.send()})}function r(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}Object.defineProperty(e,"__esModule",{value:!0}),e.get=i,e.serializeQuery=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(9);n(16),n(17),document.querySelector("#app").className="wconsole",new i.default("#app").boot(r.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(5),a=function(){function t(t){this.programs={},this.prompt="$ ",this.historyCommands=[];var e=document.querySelector(t),n=document.createElement("div");e.appendChild(n),this.output=new i.default(n);var o=document.createElement("div");e.appendChild(o),this.input=new r.default(o)}return t.prototype.boot=function(t){var e=this;t.forEach(function(t){return e.install(t)}),o.default.forEach(function(t){return e.install(t)}),this.output.writeLine("Type 'help' to see all commands."),this.output.writeLine("Or visit blog http://blog.lihui.io."),this.waitCommand()},t.prototype.install=function(t){this.programs[t.name.toUpperCase()]=t},t.prototype.waitCommand=function(){var t=this;return this.output.write(this.prompt),this.input.readLine().then(function(e){return t.output.writeLine(e),e.trim()}).then(function(e){if(""!=e)return t.historyCommands.push(e),t.runCommand(e)}).then(function(){return t.waitCommand()},function(e){return e&&t.output.writeLine(e),t.waitCommand()})},t.prototype.runCommand=function(t){var e=this,n=t.split(" "),i=n[0];return this.findCommand(i).then(function(t){return t.main(e,n.slice(1))})},t.prototype.findCommand=function(t){var e=this;return new Promise(function(n,i){var r=e.programs[t.toUpperCase()];r?n(r):i("'"+t+"' is not recognized as a command.")})},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.container=t,this.linkReg=/(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?/}return t.prototype.writeKey=function(t){if("Backspace"==t)this.container.childElementCount>0&&this.container.removeChild(this.container.lastChild);else{var e=document.createElement("pre");e.textContent=t,this.container.appendChild(e),this.container.scrollTo(0,this.container.scrollHeight)}},t.prototype.write=function(t){if(0==t.length)return void this.scrollToEnd();var e=t.match(this.linkReg);if(!e||e.index<0)return this.outputPlain(t),void this.scrollToEnd();this.outputPlain(t.substring(0,e.index)),this.outputLink(e[0],e[0]),this.write(t.substr(e.index+e[0].length))},t.prototype.outputPlain=function(t){if(t&&0!=t.length){var e=document.createElement("pre");e.textContent=t,this.container.appendChild(e)}},t.prototype.outputLink=function(t,e){var n=document.createElement("a");n.textContent=t,n.href=e,this.container.appendChild(n)},t.prototype.writeLine=function(t){t&&this.write(t),this.container.appendChild(document.createElement("br")),this.scrollToEnd()},t.prototype.scrollToEnd=function(){this.container.parentElement.scrollTo(0,this.container.parentElement.scrollHeight)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){var e=this;this.state="idle",this.keyEventHandlers={idle:{},reading:{All:function(t,n){return e.echo.textContent=e.buffer.join(""),e.buffer.push(n),"idle"}},readingLine:{Enter:function(t,e){return"idle"},Backspace:function(t,n){return e.buffer.splice(e.buffer.length-1,1),e.echo.textContent=e.buffer.join(""),t},All:function(t,n){return e.buffer.push(n),e.echo.textContent=e.buffer.join(""),t}}},this.stateChangeHandlers={},this.buffer=[],this.composingText="",this.echo=document.createElement("pre"),t.appendChild(this.echo);var n=document.createElement("input");t.appendChild(n),document.addEventListener("click",function(t){document.getSelection().isCollapsed&&n.focus()}),n.addEventListener("input",function(t){if(e.isComposing(t))e.echo.textContent=e.buffer.join("")+n.value;else{for(var i=0;i<n.value.length;i++)e.readKey(n.value[i]);e.echo.textContent=e.buffer.join(""),n.value=""}}),n.addEventListener("keydown",function(t){switch(t.key){case"Enter":case"Backspace":e.readKey(t.key)}})}return t.prototype.isComposing=function(t){var e=t.isComposing;return e&&(this.composingText==t.srcElement.value?(e=!1,this.composingText=""):this.composingText=t.srcElement.value),e},t.prototype.readKey=function(t){var e=this.keyEventHandlers[this.state];if(e){var n=e[t];if(n||(n=e.All),n){var i=this.state;this.state=n(this.state,t);var r=this.state;if(i!=r){var o=this.stateChangeHandlers[i+"-"+r];o&&o()}}}},t.prototype.read=function(){var t=this;return new Promise(function(e,n){t.state="reading",t.buffer=[],t.stateChangeHandlers["reading-idle"]=function(){e(t.buffer.join("")),t.buffer=[],t.stateChangeHandlers["reading-idle"]=void 0}})},t.prototype.readLine=function(){var t=this;return new Promise(function(e,n){t.state="readingLine",t.buffer=[],t.stateChangeHandlers["readingLine-idle"]=function(){e(t.buffer.join("")),t.buffer=[],t.echo.textContent=t.buffer.join(""),t.stateChangeHandlers["readingLine-idle"]=void 0}})},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=n(7),o=n(8);e.default=[new i.default,new r.default,new o.default]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.name="cls",this.description="Clears the screen."}return t.prototype.main=function(t,e){return t.output.container.innerHTML="",Promise.resolve()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.name="help",this.description="Provides Help information for all commands."}return t.prototype.main=function(t,e){var n=e[0];if(e.length>0)t.findCommand(n).then(function(e){t.output.writeLine(e.description)},function(e){t.output.writeLine(e)});else{var i=[];for(var r in t.programs)i.push(r+"\t"+t.programs[r].description);t.output.writeLine(i.sort().join("\n")+"\n\nFor more information on a specific command, type HELP command-name.\n")}return Promise.resolve()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.name="history",this.description="Displays the command history."}return t.prototype.main=function(t,e){var n=this,i=t.historyCommands.filter(function(t){return t.toLowerCase()!=n.name.toLowerCase()}).join("\n");return t.output.writeLine(i),Promise.resolve()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(11),o=n(12),a=n(14),s=n(15);e.default=[new i.default,new r.default,new o.default,new a.default,new s.default]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.name="blog",this.description="Opens blog website."}return t.prototype.main=function(t,e){return window.open("http://blog.lihui.io/","_blank"),t.output.writeLine("Blog website opened."),Promise.resolve()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.name="title",this.description="Sets the window title.",this.default="Console",window.document.title=this.default}return t.prototype.main=function(t,e){return window.document.title=e[0]||this.default,Promise.resolve()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=n(0),o=function(){function t(){this.name="bot",this.description="A bot that you can talk with."}return t.prototype.main=function(t,e){var n=this;return t.runCommand("title Bot").then(function(){return t.output.writeLine("\nType 'bye' to exit chat.\n"),t.output.writeLine("[BOT "+(new Date).format("yyyy-MM-dd hh:mm:ss")+"] :"),t.output.writeLine("Hello"),n.dialog(t)}).then(function(){return t.runCommand("title")})},t.prototype.dialog=function(t){var e=this;return t.output.writeLine("[Me] :"),t.input.readLine().then(function(e){return t.output.writeLine(e),"bye"==e.toLowerCase()?Promise.reject(null):e}).then(function(n){return e.ask(n).then(function(e){t.output.writeLine("[BOT "+(new Date).format("yyyy-MM-dd hh:mm:ss")+"] :"),t.output.writeLine(e.split("{br}").join("\n"))})}).then(function(){return e.dialog(t)},function(){})},t.prototype.ask=function(t){var e={key:"free",appid:0,msg:t};return i.query("select * from json where url='http://api.qingyunke.com/api.php?"+r.serializeQuery(e)+"'").then(function(t){return t.content})},t}();e.default=o},function(t,e,n){"use strict";function i(t){return r.get("https://query.yahooapis.com/v1/public/yql",{q:t,format:"json"}).then(function(t){return t.query.results.json})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.query=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.name="date",this.description="Displays the date."}return t.prototype.main=function(t,e){return t.output.writeLine("The current date is: "+(new Date).format("MM/dd/yyyy")),Promise.resolve()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.name="time",this.description="Displays the system time."}return t.prototype.main=function(t,e){return t.output.writeLine("The current time is: "+(new Date).format("hh:mm:ss")),Promise.resolve()},t}();e.default=i},function(t,e){Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},function(t,e,n){var i=n(18);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(20)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(19)(!1),e.push([t.i,"body{margin:0;overflow:hidden}.wconsole{height:100vh;overflow-x:hidden;overflow-y:auto;outline:none;padding:10px;font-size:14px}.wconsole *{font-family:Consolas,Courier New,monospace;display:inline;word-break:break-all;white-space:pre-wrap}.wconsole input{opacity:0;outline:none;border:0;width:5px;background-color:#000;border-radius:2px}.wconsole input:focus{-webkit-animation:twinkling 1s infinite linear;-moz-animation:twinkling 1s infinite linear;-ms-animation:twinkling 1s infinite linear;-o-animation:twinkling 1s infinite linear;animation:twinkling 1s infinite linear}@-webkit-keyframes twinkling{0%{opacity:0}50%{opacity:1}to{opacity:0}}@-moz-keyframes twinkling{0%{opacity:0}50%{opacity:1}to{opacity:0}}@-ms-keyframes twinkling{0%{opacity:0}50%{opacity:1}to{opacity:0}}@-o-keyframes twinkling{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes twinkling{0%{opacity:0}50%{opacity:1}to{opacity:0}}.wconsole{background-color:#1e1f1a}.wconsole *{color:#cacaca}.wconsole input{background-color:#cacaca}",""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=h[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(f(i.parts[o],e))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(f(i.parts[o],e));h[i.id]={id:i.id,refs:1,parts:a}}}}function r(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s=o[1],u=o[2],c=o[3],f={css:s,media:u,sourceMap:c};i[a]?i[a].parts.push(f):n.push(i[a]={id:a,parts:[f]})}return n}function o(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=g[g.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=v(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),o(t,e),e}function u(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),o(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function f(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var c=w++;n=y||(y=s(e)),i=l.bind(null,n,c,!1),r=l.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),i=d.bind(null,n,e),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),i=p.bind(null,n),r=function(){a(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function l(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=C(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=b(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){if(void 0===e[n]){var i=t.call(this,n);if(i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[n]=i}return e[n]}}(function(t){return document.querySelector(t)}),y=null,w=0,g=[],b=n(21);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=r(t,e);return i(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=h[s.id];u.refs--,o.push(u)}if(t){i(r(t,e),e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}};var C=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return t;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}}]);
//# sourceMappingURL=build.js.map